--
-- TABLE: intervention
--

CREATE TABLE intervention(
    id                           integer  PRIMARY KEY NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    intervention_name            text,
    country_id                   text       REFERENCES country(id),
    app_user_id                  text       REFERENCES app_user(id),
    data_citation_id             integer    REFERENCES data_citation(id),
    food_vehicle_id              integer    REFERENCES food_vehicle(id),
    fortification_type_id        text       REFERENCES fortification_type(id),
    program_status               text,
	file_name                    text,
    base_year                    integer,
    is_premade                   boolean,
    parent_intervention          integer    REFERENCES intervention(id)
)
;

COMMENT on column intervention.is_premade is 'Whether this intervention is pre-created by professionals, or whether this is an intervention where an end-user has customised some values';
COMMENT on column intervention.fortification_type_id is 'whether the intervention is Large-Scale Food Fortificaion (LSFF), biofortification (BF), or agro-fortification (AF)';
COMMENT on column intervention.base_year is 'the actual year (Common Era) from when the intervention program is to start its calculations, e.g. 2026. As opposed to "year 3".';

