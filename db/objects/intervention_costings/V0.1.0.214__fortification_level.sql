
CREATE TABLE fortification_level(
    row_index                            integer   PRIMARY KEY NOT NULL GENERATED BY DEFAULT AS IDENTITY
    , intervention_id             integer   REFERENCES intervention(id)
    , fortificant_id              integer   REFERENCES fortificant(id)
    , year                        integer -- TODO - I don't think we need this column as premix calcs are not year-specific?
    , fortificant_activity        numeric
    , fortificant_overage         numeric DEFAULT 0
    , fortificant_price           numeric
)
;

COMMENT ON TABLE fortification_level IS 'Stores fortification levels, costs and amounts per intervention';

COMMENT ON COLUMN fortification_level.intervention_id         IS 'For which intervention these fortification levels apply';
COMMENT ON COLUMN fortification_level.fortificant_id          IS 'Which fortificant this is';
COMMENT ON COLUMN fortification_level.year                    IS 'For which year these fortification levels apply';
COMMENT ON COLUMN fortification_level.fortificant_activity    IS 'in mg/kg of food vehicle';
COMMENT ON COLUMN fortification_level.fortificant_overage     IS 'in overage value';
COMMENT ON COLUMN fortification_level.fortificant_price       IS 'The price of the fortificant, in US Dollars per kilogram';
